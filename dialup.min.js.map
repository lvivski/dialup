{"version":3,"file":"dialup.min.js","sources":["dialup.js"],"names":["global","Dialup","url","room","createOffer","socket","pc","session","setLocalDescription","send","id","description","sdp","type","constraints","createAnswer","createDataChannel","label","channel","reliable","addDataChannel","onopen","onmessage","e","controller","add","data","onclose","createPeerConnection","RTCPeerConnection","servers","config","onicecandidate","candidate","sdpMLineIndex","oniceconnectionstatechange","iceConnectionState","close","onaddstream","stream","onremovestream","ondatachannel","event","JSON","stringify","me","sockets","connections","streams","Observable","control","WebSocket","optional","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","iceServers","DtlsSrtpKeyAgreement","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","broadcast","k","d","readyState","createStream","audio","video","defer","Promise","getUserMedia","Audio","push","i","length","connection","addStream","fulfill","promise","listen","you","RTCIceCandidate","addIceCandidate","forEach","splice","indexOf","setRemoteDescription","RTCSessionDescription","window","navigator","mozRTCPeerConnection","webkitRTCPeerConnection","PeerConnection","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","bind","mozRTCIceCandidate","mozRTCSessionDescription","URL","webkitURL","msURL","define","amd","streamlet","davy","overtone","module","exports","require","Streamlet","Davy","Overtone"],"mappings":"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"}