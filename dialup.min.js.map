{"version":3,"file":"dialup.min.js","sources":["dialup.js"],"names":["global","Dialup","url","room","createOffer","socket","pc","session","setLocalDescription","send","id","description","sdp","type","constraints","createAnswer","createDataChannel","label","channel","reliable","addDataChannel","onopen","onmessage","e","stream","add","data","onclose","createPeerConnection","RTCPeerConnection","servers","config","onicecandidate","candidate","sdpMLineIndex","oniceconnectionstatechange","iceConnectionState","close","onaddstream","onremovestream","ondatachannel","event","JSON","stringify","me","sockets","connections","streams","Stream","WebSocket","optional","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","iceServers","RtpDataChannels","DtlsSrtpKeyAgreement","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","broadcast","k","d","readyState","createStream","audio","video","promise","Promise","getUserMedia","AudioContext","getAudioTracks","context","media","MediaStream","addTrack","removeTrack","source","createMediaStreamSource","createBiquadFilter","destination","createMediaStreamDestination","LOWPASS","Q","value","frequency","connect","push","i","length","connection","addStream","fulfill","listen","you","RTCIceCandidate","addIceCandidate","forEach","splice","indexOf","setRemoteDescription","RTCSessionDescription","navigator","PeerConnection","webkitPeerConnection00","webkitRTCPeerConnection","mozRTCPeerConnection","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","bind","mozRTCIceCandidate","mozRTCSessionDescription","webkitAudioContext","mozAudioContext","webkitMediaStream","mozMediaStream","URL","webkitURL","msURL","define","amd","Streamlet","Davy","module","exports","require"],"mappings":"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"}