{"version":3,"sources":["dialup.js"],"names":["global","Observable","Promise","Audio","Dialup","url","room","sockets","connections","data","streams","controller","control","stream","ws","WebSocket","constraints","offerToReceiveAudio","offerToReceiveVideo","addDataChannel","id","channel","onopen","onmessage","e","add","type","onclose","createPeerConnection","pc","RTCPeerConnection","onicecandidate","candidate","send","label","sdpMLineIndex","oniceconnectionstatechange","iceConnectionState","close","ontrack","ondatachannel","event","JSON","stringify","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","broadcast","k","d","readyState","createStream","audio","video","defer","navigator","mediaDevices","getUserMedia","then","push","i","length","socket","connection","getTracks","forEach","track","addTrack","createDataChannel","createOffer","session","setLocalDescription","description","sdp","fulfill","promise","listen","you","RTCIceCandidate","addIceCandidate","catch","console","log","splice","indexOf","setRemoteDescription","RTCSessionDescription","createAnswer","window","define","amd","streamlet","davy","overtone","module","exports","require","Streamlet","Davy","Overtone"],"mappings":"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"}