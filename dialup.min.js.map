{"version":3,"file":"dialup.min.js","sources":["dialup.js"],"names":["global","Dialup","url","room","createOffer","socket","pc","session","setLocalDescription","send","id","description","sdp","type","constraints","createAnswer","createDataChannel","label","channel","reliable","addDataChannel","onopen","onmessage","e","stream","add","data","onclose","createPeerConnection","RTCPeerConnection","servers","config","onicecandidate","candidate","sdpMLineIndex","oniceconnectionstatechange","iceConnectionState","close","onaddstream","onremovestream","ondatachannel","event","JSON","stringify","me","sockets","connections","streams","Stream","WebSocket","optional","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","iceServers","DtlsSrtpKeyAgreement","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","broadcast","k","d","readyState","createStream","audio","video","defer","Promise","getUserMedia","AudioContext","MediaStream","prototype","removeTrack","context","source","createMediaStreamSource","createBiquadFilter","destination","createMediaStreamDestination","LOWPASS","Q","value","frequency","connect","getAudioTracks","addTrack","push","i","length","connection","addStream","fulfill","promise","listen","you","RTCIceCandidate","addIceCandidate","forEach","splice","indexOf","setRemoteDescription","RTCSessionDescription","window","navigator","mozRTCPeerConnection","webkitRTCPeerConnection","PeerConnection","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","bind","mozRTCIceCandidate","mozRTCSessionDescription","webkitAudioContext","mozAudioContext","webkitMediaStream","mozMediaStream","URL","webkitURL","msURL","define","amd","Streamlet","Davy","module","exports","require"],"mappings":"CAAA,SAAUA,GACR,YAsBA,SAASC,GAAOC,EAAKC,GA8InB,QAASC,GAAYC,EAAQC,GAC3BA,EAAGF,YAAY,SAASG,GACtBD,EAAGE,oBAAoBD,GACvBE,EAAK,SACHC,GAAIL,EACJM,aACEC,IAAKL,EAAQK,IACbC,KAAMN,EAAQM,SAGjB,aAAeC,GAEpB,QAASC,GAAaV,EAAQC,GAC5BA,EAAGS,aAAa,SAASR,GACvBD,EAAGE,oBAAoBD,GACvBE,EAAK,UACHC,GAAIL,EACJM,aACEC,IAAKL,EAAQK,IACbC,KAAMN,EAAQM,SAGjB,cAEL,QAASG,GAAkBN,EAAIJ,EAAIW,GACjCA,IAAUA,EAAQ,cAClB,IAAIC,GAAUZ,EAAGU,kBAAkBC,GACjCE,UAAU,GAEZC,GAAeV,EAAIQ,GAErB,QAASE,GAAeV,EAAIQ,GAC1BA,EAAQG,OAAS,aACjBH,EAAQI,UAAY,SAASC,GAC3BC,EAAOC,KACLZ,KAAM,OACNH,GAAIA,EACJgB,KAAMH,EAAEG,QAGZR,EAAQS,QAAU,aAClBD,EAAKhB,GAAMQ,EAEb,QAASU,GAAqBlB,GAC5B,GAAIJ,GAAK,GAAIuB,GAAkBC,EAASC,EAuCxC,OAtCAzB,GAAG0B,eAAiB,SAAST,GACR,MAAfA,EAAEU,WACJxB,EAAK,aACHQ,MAAOM,EAAEU,UAAUC,cACnBxB,GAAIA,EACJuB,UAAWV,EAAEU,UAAUA,aAI7B3B,EAAG6B,2BAA6B,WAC9B,OAAQ7B,EAAG8B,oBACV,IAAK,eACL,IAAK,SACJ9B,EAAG+B,OACH,MAED,KAAK,YACJ/B,EAAG0B,eAAiB,eAIxB1B,EAAGgC,YAAc,SAASf,GACxBC,EAAOC,KACLZ,KAAM,MACNH,GAAIA,EACJc,OAAQD,EAAEC,UAGdlB,EAAGiC,eAAiB,SAAShB,GAC3BC,EAAOC,KACLZ,KAAM,SACNH,GAAIA,EACJc,OAAQD,EAAEC,UAGdlB,EAAGkC,cAAgB,SAASjB,GAC1BH,EAAeV,EAAIa,EAAEL,UAEhBZ,EAET,QAASG,GAAKgC,EAAOf,GACnBA,EAAKb,KAAO4B,EACZpC,EAAOI,KAAKiC,KAAKC,UAAUjB,IApO7B,GAAIkB,GAAK,KAAMC,KAAcC,KAAkBpB,KAAWqB,KAAcvB,EAAS,GAAIwB,GAAU3C,EAAS,GAAI4C,WAAU/C,GAClHY,GACFoC,YACAC,WACEC,qBAAqB,EACrBC,qBAAqB,IAQtBvB,GACDwB,aACEpD,IAAK,kCAEN6B,GACDmB,WACEK,sBAAsB,IAG1BlD,GAAOgB,OAAS,WACdZ,EAAK,QACHN,KAAMA,GAAQ,MAGlBE,EAAOmD,QAAU,aACjBnD,EAAOiB,UAAY,SAASC,GAC1BC,EAAOC,IAAIiB,KAAKe,MAAMlC,EAAEG,QAE1BgC,KAAKC,QAAUnC,EAAOoC,OAAO,SAASC,GACpC,MAAwB,UAAjBA,EAAQhD,OAEjB6C,KAAKI,SAAWtC,EAAOoC,OAAO,SAASC,GACrC,MAAwB,WAAjBA,EAAQhD,OAEjB6C,KAAKK,YAAcvC,EAAOoC,OAAO,SAASC,GACxC,MAAwB,cAAjBA,EAAQhD,OAEjB6C,KAAKM,MAAQxC,EAAOoC,OAAO,SAASC,GAClC,MAAwB,QAAjBA,EAAQhD,OAEjB6C,KAAKO,QAAUzC,EAAOoC,OAAO,SAASC,GACpC,MAAwB,UAAjBA,EAAQhD,OAEjB6C,KAAKQ,QAAU1C,EAAOoC,OAAO,SAASC,GACpC,MAAwB,UAAjBA,EAAQhD,OAEjB6C,KAAKS,MAAQ3C,EAAOoC,OAAO,SAASC,GAClC,MAAwB,QAAjBA,EAAQhD,OAEjB6C,KAAKU,SAAW5C,EAAOoC,OAAO,SAASC,GACrC,MAAwB,WAAjBA,EAAQhD,OAEjB6C,KAAKW,OAAS7C,EAAOoC,OAAO,SAASC,GACnC,MAAwB,SAAjBA,EAAQhD,OAEjB6C,KAAKY,UAAY,SAAST,GACxB,IAAK,GAAIU,KAAK7C,GACZgC,KAAKjD,KAAK8D,EAAGV,IAGjBH,KAAKjD,KAAO,SAASC,EAAImD,GACvB,GAAIW,GAAI9C,EAAKhB,EACQ,UAAjB8D,EAAEC,YAAuBD,EAAE/D,KAAKoD,IAEtCH,KAAKgB,aAAe,SAASC,EAAOC,GAClC,GAAIC,GAAQC,EAAQD,OAkCpB,OAjCAE,IACEJ,MAAOA,EACPC,MAAOA,GACN,SAASpD,GACV,GAAIwD,GAAgBC,GAAeA,EAAYC,UAAUC,YAAa,CACpE,GAAIC,GAAU,GAAIJ,GAAgBK,EAASD,EAAQE,wBAAwB9D,GAASoC,EAASwB,EAAQG,qBAAsBC,EAAcJ,EAAQK,8BACjJ7B,GAAO/C,KAAO+C,EAAO8B,QACrB9B,EAAO+B,EAAEC,MAAQ,EACjBhC,EAAOiC,UAAUD,MAAQ,IACzBP,EAAOS,QAAQlC,GACfA,EAAOkC,QAAQN,GACfhE,EAAO2D,YAAY3D,EAAOuE,iBAAiB,IAC3CvE,EAAOwE,SAASR,EAAYhE,OAAOuE,iBAAiB,IAEtDhD,EAAQkD,KAAKzE,EACb,KAAK,GAAI0E,GAAI,EAAGA,EAAIrD,EAAQsD,SAAUD,EAAG,CACvC,GAAI7F,GAASwC,EAAQqD,EACrBpD,GAAYzC,GAAUuB,EAAqBvB,GAE7C,IAAK6F,EAAI,EAAGA,EAAInD,EAAQoD,SAAUD,EAAG,CACnC,GAAI1E,GAASuB,EAAQmD,EACrB,KAAK,GAAI7F,KAAUyC,GAAa,CAC9B,GAAIsD,GAAatD,EAAYzC,EAC7B+F,GAAWC,UAAU7E,IAGzB,IAAKnB,IAAUyC,GACbsD,EAAatD,EAAYzC,GACzBW,EAAkBX,EAAQ+F,GAC1BhG,EAAYC,EAAQ+F,EAEtBvB,GAAMyB,QAAQ9E,IACb,aAAeV,GACX+D,EAAM0B,SAEf7C,KAAKO,QAAQuC,OAAO,SAAS3C,GAC3BjB,EAAKiB,EAAQ4C,GACb,KAAK,GAAIP,KAAKrC,GAAQf,YAAa,CACjC,GAAIsD,GAAavC,EAAQf,YAAYoD,EACrCrD,GAAQoD,KAAKG,MAGjB1C,KAAKK,YAAYyC,OAAO,SAAS3C,GAC/B,GAAI5B,GAAY,GAAIyE,IAClBxE,cAAe2B,EAAQ5C,MACvBgB,UAAW4B,EAAQ5B,WAErBa,GAAYe,EAAQnD,IAAIiG,gBAAgB1E,KAE1CyB,KAAKM,MAAMwC,OAAO,SAAS3C,GACzB,GAAInD,GAAKmD,EAAQnD,GAAIJ,EAAKsB,EAAqBlB,EAC/CmC,GAAQoD,KAAKvF,GACboC,EAAYpC,GAAMJ,EAClByC,EAAQ6D,QAAQ,SAASpF,GACvBlB,EAAG+F,UAAU7E,OAGjBkC,KAAKQ,QAAQsC,OAAO,SAAS3C,GAC3B,GAAInD,GAAKmD,EAAQnD,SACVoC,GAAYpC,SACZgB,GAAKhB,GACZmC,EAAQgE,OAAOhE,EAAQiE,QAAQpG,GAAK,KAEtCgD,KAAKC,QAAQ6C,OAAO,SAAS3C,GAC3B,GAAIvD,GAAKwC,EAAYe,EAAQnD,GAC7BJ,GAAGyG,qBAAqB,GAAIC,GAAsBnD,EAAQlD,cAC1DI,EAAa8C,EAAQnD,GAAIJ,KAE3BoD,KAAKI,SAAS0C,OAAO,SAAS3C,GAC5B,GAAIvD,GAAKwC,EAAYe,EAAQnD,GAC7BJ,GAAGyG,qBAAqB,GAAIC,GAAsBnD,EAAQlD,gBAjKxC,gBAAXX,KACTA,EAASiH,OAEX,IAAIC,GAAYlH,EAAOkH,UAAWrF,EAAoB7B,EAAOmH,sBAAwBnH,EAAOoH,yBAA2BpH,EAAOqH,eAAgBtC,GAAgBmC,EAAUnC,cAAgBmC,EAAUI,oBAAsBJ,EAAUK,iBAAmBL,EAAUM,gBAAgBC,KAAKP,GAAYR,EAAkB1G,EAAO0H,oBAAsB1H,EAAO0G,gBAAiBM,EAAwBhH,EAAO2H,0BAA4B3H,EAAOgH,sBAAuBhC,EAAehF,EAAO4H,oBAAsB5H,EAAO6H,iBAAmB7H,EAAOgF,aAAcC,EAAcjF,EAAO8H,mBAAqB9H,EAAO+H,gBAAkB/H,EAAOiF,WACrmBjF,GAAOgI,IAAMhI,EAAOgI,KAAOhI,EAAOiI,WAAajI,EAAOkI,KACtD,IAAIlF,GAAQ8B,CACU,mBAAXqD,SAAyBA,OAAOC,IACzCD,QAAS,YAAa,QAAU,SAASE,EAAWC,GAGlD,MAFAtF,GAASqF,EACTvD,EAAUwD,EACHrI,IAEkB,gBAAXsI,SAAuBA,OAAOC,SAC9CD,OAAOC,QAAUvI,EACjB+C,EAASyF,QAAQ,aACjB3D,EAAU2D,QAAQ,UAElBzI,EAAOC,OAASA,EAChB+C,EAAShD,EAAOgD,OAChB8B,EAAU9E,EAAOsI,OA0OlB5E"}