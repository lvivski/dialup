{"version":3,"file":"dialup.min.js","sources":["dialup.js"],"names":["global","Dialup","url","room","createOffer","socket","pc","session","setLocalDescription","send","id","description","sdp","type","createAnswer","createDataChannel","label","channel","reliable","addDataChannel","onopen","onmessage","e","stream","add","data","onclose","createPeerConnection","RTCPeerConnection","iceServers","optional","RtpDataChannels","DtlsSrtpKeyAgreement","onicecandidate","candidate","sdpMLineIndex","onaddstream","onremovestream","ondatachannel","event","JSON","stringify","me","sockets","connections","streams","Stream","WebSocket","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","k","d","createStream","audio","video","promise","Promise","getUserMedia","push","i","length","connection","addStream","fulfill","listen","you","RTCIceCandidate","addIceCandidate","forEach","splice","indexOf","setRemoteDescription","RTCSessionDescription","navigator","PeerConnection","webkitPeerConnection00","webkitRTCPeerConnection","mozRTCPeerConnection","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","noop","bind","mozRTCIceCandidate","mozRTCSessionDescription","URL","webkitURL","msURL","define","amd","Streamlet","Davy","module","exports","require"],"mappings":"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"}