{"version":3,"file":"dialup.min.js","sources":["dialup.js"],"names":["global","Dialup","url","room","createOffer","socket","pc","session","setLocalDescription","send","id","description","sdp","type","constraints","createAnswer","createDataChannel","label","channel","reliable","addDataChannel","onopen","onmessage","e","stream","add","data","onclose","createPeerConnection","RTCPeerConnection","servers","config","onicecandidate","candidate","sdpMLineIndex","onaddstream","onremovestream","ondatachannel","event","JSON","stringify","me","sockets","connections","streams","Stream","WebSocket","optional","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","iceServers","RtpDataChannels","DtlsSrtpKeyAgreement","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","broadcast","k","d","readyState","createStream","audio","video","promise","Promise","getUserMedia","AudioContext","getAudioTracks","context","media","MediaStream","addTrack","removeTrack","source","createMediaStreamSource","createBiquadFilter","destination","createMediaStreamDestination","LOWPASS","Q","value","frequency","connect","push","i","length","connection","addStream","fulfill","listen","you","RTCIceCandidate","addIceCandidate","forEach","splice","indexOf","setRemoteDescription","RTCSessionDescription","navigator","PeerConnection","webkitPeerConnection00","webkitRTCPeerConnection","mozRTCPeerConnection","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","noop","bind","mozRTCIceCandidate","mozRTCSessionDescription","webkitAudioContext","mozAudioContext","webkitMediaStream","mozMediaStream","URL","webkitURL","msURL","define","amd","Streamlet","Davy","module","exports","require"],"mappings":"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"}