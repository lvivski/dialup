{"version":3,"sources":["dialup.js"],"names":["global","Observable","Promise","Audio","Dialup","url","room","sockets","connections","data","streams","controller","control","stream","socket","WebSocket","constraints","optional","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","servers","iceServers","urls","config","DtlsSrtpKeyAgreement","addDataChannel","id","channel","onopen","onmessage","e","add","type","onclose","createPeerConnection","pc","RTCPeerConnection","onicecandidate","candidate","send","label","sdpMLineIndex","oniceconnectionstatechange","iceConnectionState","close","ontrack","onremovestream","ondatachannel","event","JSON","stringify","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","broadcast","k","d","readyState","createStream","audio","video","defer","navigator","mediaDevices","getUserMedia","then","push","i","length","connection","console","log","getTracks","forEach","track","addTrack","createDataChannel","reliable","createOffer","session","setLocalDescription","description","sdp","fulfill","promise","listen","you","RTCIceCandidate","addIceCandidate","addStream","splice","indexOf","setRemoteDescription","RTCSessionDescription","createAnswer","window","define","amd","streamlet","davy","overtone","module","exports","require","Streamlet","Davy","Overtone"],"mappings":"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"}