{"version":3,"sources":["dialup.js"],"names":["global","Streamlet","Overtone","trimIce","server","replace","Channel","url","room","controller","control","stream","ws","WebSocket","send","message","data","type","JSON","stringify","onopen","onerror","onmessage","e","add","parse","this","onJoin","filter","onOffer","onAnswer","onPeers","onNew","onCandidate","onLeave","window","define","amd","streamlet","overtone","Dialup","module","exports","require","configuration","iceServers","reduce","servers","lastEntry","length","urls","push","channel","clientIds","streams","peerConnections","dataChannels","addTracks","clientId","pc","track","getTracks","addTrack","onAdd","onData","broadcast","dc","readyState","getUserStream","async","audio","video","navigator","mediaDevices","getUserMedia","facingMode","getDisplayStream","getDisplayMedia","stopStream","stop","splice","indexOf","listen","you","connections","createPeerConnection","label","createDataChannel","addDataChannel","id","addIceCandidate","candidate","setRemoteDescription","description","iceConnectionState","setLocalDescription","createAnswer","localDescription","onclose","RTCPeerConnection","onicecandidate","oniceconnectionstatechange","close","onicecandidateerror","console","log","onnegotiationneeded","createOffer","ontrack","ondatachannel"],"mappings":"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"}