{"version":3,"sources":["dialup.js"],"names":["global","Streamlet","Overtone","trimIce","server","replace","Channel","url","room","controller","control","stream","ws","WebSocket","send","message","data","type","JSON","stringify","onopen","onerror","onmessage","e","add","parse","this","onJoin","filter","onOffer","onAnswer","onPeers","onNew","onCandidate","onLeave","window","define","amd","streamlet","overtone","Dialup","module","exports","require","configuration","iceServers","reduce","servers","lastEntry","length","urls","push","channel","clientIds","streams","peerConnections","dataChannels","addTracks","clientId","pc","track","getTracks","addTrack","onAdd","onData","broadcast","dc","readyState","getUserStream","async","audio","video","navigator","mediaDevices","getUserMedia","facingMode","getDisplayStream","getDisplayMedia","stopStream","stop","listen","you","connections","createPeerConnection","label","createDataChannel","addDataChannel","id","addIceCandidate","candidate","splice","indexOf","setRemoteDescription","description","iceConnectionState","setLocalDescription","createAnswer","localDescription","onclose","RTCPeerConnection","onicecandidate","oniceconnectionstatechange","close","onicecandidateerror","console","log","onnegotiationneeded","createOffer","ontrack","ondatachannel"],"mappings":"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"}