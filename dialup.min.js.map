{"version":3,"file":"dialup.min.js","sources":["dialup.js"],"names":["global","Dialup","url","room","createOffer","socket","pc","session","setLocalDescription","send","id","parseInt","description","sdp","type","createAnswer","createDataChannel","label","channel","reliable","addDataChannel","onopen","onmessage","e","stream","add","data","onclose","createPeerConnection","RTCPeerConnection","iceServers","optional","RtpDataChannels","DtlsSrtpKeyAgreement","onicecandidate","candidate","sdpMLineIndex","onaddstream","onremovestream","ondatachannel","event","JSON","stringify","me","sockets","connections","streams","Stream","WebSocket","onerror","parse","this","onOffer","filter","message","onAnswer","onCandidate","onNew","onPeers","onLeave","onAdd","onRemove","onData","k","d","createStream","audio","video","promise","Promise","getUserMedia","push","i","length","connection","addStream","fulfill","listen","you","RTCIceCandidate","addIceCandidate","forEach","setRemoteDescription","RTCSessionDescription","navigator","PeerConnection","webkitPeerConnection00","webkitRTCPeerConnection","mozRTCPeerConnection","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","noop","bind","mozRTCIceCandidate","mozRTCSessionDescription","URL","webkitURL","msURL","define","amd","Streamlet","Davy","module","exports","require"],"mappings":"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"}